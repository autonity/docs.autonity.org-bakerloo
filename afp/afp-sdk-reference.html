<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.33">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>AFP Python SDK Reference – Autonity Documentation</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../afp/afp-smart-contract-reference.html" rel="next">
<link href="../afp/glossary.html" rel="prev">
<link href=".././_assets/favicon.svg" rel="icon" type="image/svg+xml">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-0a33faad1e9af8af22a979457b77d68c.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-a9e8ea38a6383c0f82ea5ba74fb254b4.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>


<link rel="stylesheet" href="../_assets/css/styles.css">
</head>

<body class="nav-sidebar docked nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../_assets/images/logo-autonity.svg" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Autonity Documentation</span>
    </a>
  </div>
        <div class="quarto-navbar-tools tools-end">
    <div class="dropdown">
      <a href="" title="" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label=""><i class="bi bi-github"></i></a>
      <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://github.com/clearmatics/proto-afp">
            Source Code
            </a>
          </li>
      </ul>
    </div>
</div>
          <div id="quarto-search" class="" title="Search"></div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../afp/afp-sdk-reference.html">For Developers</a></li><li class="breadcrumb-item"><a href="../afp/afp-sdk-reference.html">AFP Python SDK Reference</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Autonity Futures Protocol</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../afp/about-afp.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About the AFP</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../afp/architecture.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Overall Architecture</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../afp/getting-started.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Getting Started</span></a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../afp/clearing-system.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Clearing System</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../afp/margin-intent-accounts.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Margin &amp; Intent Accounts</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../afp/liquidation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Liquidation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../afp/bankruptcy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bankruptcy</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../afp/margining.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Margining</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../afp/mark-price.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mark Price determination</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../afp/final-settlement-price.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Final Settlement Value and Price</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../afp/final-settlement-process.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Final Settlement Process</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../afp/fees.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Fees</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../afp/trading-fees.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Trading fees</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../afp/clearing-fees.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Clearing fees</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../afp/products.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Products</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../afp/how-to-create-a-product.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">How to Create a Product</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../afp/product-specification.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Product Types and Specification</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../afp/product-builders.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Product Builders</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../afp/product-lifecycle.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Product Lifecycle</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../afp/product-tokenomics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Product Tokenomics</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../afp/trading-protocols.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Trading Protocols</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../afp/how-to-integrate-a-trading-protocol.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">How to integrate a trading protocol</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../afp/the-roles-of-trading-protocols.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Trading Protocols</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../afp/fallback-mechanism.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Fallback mechanism</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../afp/trading.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Trading</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../afp/trade-execution-and-clearing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Trade Execution and Clearing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../afp/cross-venue-cross-margining.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cross-Venue Cross-Margining</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../afp/intents.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Intents</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../afp/oracles.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Oracles</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../afp/how-to-integrate-an-oracle.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">How to Integrate an Oracle</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../afp/oracle-interface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Oracle Interface</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../afp/onchain-agents.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">On-chain Agents</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../afp/final-settlement-price-agent.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Final Settlement Price Agent</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../afp/closeout-agent.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Closeout Agent</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../afp/liquidation-agent.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Liquidation Agent</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../afp/glossary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Glossary</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">For Developers</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../afp/afp-sdk-reference.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">AFP Python SDK Reference</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../afp/afp-smart-contract-reference.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">AFP Smart Contract Reference</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../afp/afp-sdk-bindings-reference.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">AFP Smart Contract Python Bindings Reference</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#afp" id="toc-afp" class="nav-link active" data-scroll-target="#afp">afp</a>
  <ul class="collapse">
  <li><a href="#afp.admin" id="toc-afp.admin" class="nav-link" data-scroll-target="#afp.admin">afp.Admin</a></li>
  <li><a href="#afp.builder" id="toc-afp.builder" class="nav-link" data-scroll-target="#afp.builder">afp.Builder</a></li>
  <li><a href="#afp.clearing" id="toc-afp.clearing" class="nav-link" data-scroll-target="#afp.clearing">afp.Clearing</a></li>
  <li><a href="#afp.liquidation" id="toc-afp.liquidation" class="nav-link" data-scroll-target="#afp.liquidation">afp.Liquidation</a></li>
  <li><a href="#afp.trading" id="toc-afp.trading" class="nav-link" data-scroll-target="#afp.trading">afp.Trading</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../afp/afp-sdk-reference.html">For Developers</a></li><li class="breadcrumb-item"><a href="../afp/afp-sdk-reference.html">AFP Python SDK Reference</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">AFP Python SDK Reference</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="afp" class="level2">
<h2 class="anchored" data-anchor-id="afp">afp</h2>
<p>Autonity Futures Protocol Python SDK.</p>
<p><strong>Classes:</strong></p>
<ul>
<li><a href="#afp.Admin"><strong>Admin</strong></a> – API for AutEx administration, restricted to AutEx admins.</li>
<li><a href="#afp.Builder"><strong>Builder</strong></a> – API for building and submitting new products.</li>
<li><a href="#afp.Clearing"><strong>Clearing</strong></a> – API for managing margin accounts.</li>
<li><a href="#afp.Liquidation"><strong>Liquidation</strong></a> – API for participating in liquidation auctions.</li>
<li><a href="#afp.Trading"><strong>Trading</strong></a> – API for trading in the AutEx exchange.</li>
</ul>
<section id="afp.admin" class="level3">
<h3 class="anchored" data-anchor-id="afp.admin">afp.Admin</h3>
<p>Bases: <code><a href="#afp.api.base.ExchangeAPI">ExchangeAPI</a></code></p>
<p>API for AutEx administration, restricted to AutEx admins.</p>
<p>Authenticates with the exchange on creation.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>private_key</strong> (<code><a href="#str">str</a></code>) – The private key of the exchange adminstrator account.</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code><a href="#afp.exceptions.AuthenticationError">AuthenticationError</a></code> – If the exchange rejects the login attempt.</li>
</ul>
<p><strong>Functions:</strong></p>
<ul>
<li><a href="#afp.Admin.approve_product"><strong>approve_product</strong></a> – Approves a product for trading on the exchange.</li>
<li><a href="#afp.Admin.delist_product"><strong>delist_product</strong></a> – Delists a product from the exchange.</li>
</ul>
<section id="afp.admin.approve_product" class="level4">
<h4 class="anchored" data-anchor-id="afp.admin.approve_product">afp.Admin.approve_product</h4>
<div class="sourceCode" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>approve_product(product_id)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Approves a product for trading on the exchange.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>product_id</strong> (<code><a href="#str">str</a></code>) –</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code><a href="#afp.exceptions.AuthorizationError">AuthorizationError</a></code> – If the configured account is not an exchange administrator.</li>
</ul>
</section>
<section id="afp.admin.delist_product" class="level4">
<h4 class="anchored" data-anchor-id="afp.admin.delist_product">afp.Admin.delist_product</h4>
<div class="sourceCode" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>delist_product(product_id)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Delists a product from the exchange.</p>
<p>New order submissions of this product will be rejected.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>product_id</strong> (<code><a href="#str">str</a></code>) –</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code><a href="#afp.exceptions.AuthorizationError">AuthorizationError</a></code> – If the configured account is not an exchange administrator.</li>
</ul>
</section>
</section>
<section id="afp.builder" class="level3">
<h3 class="anchored" data-anchor-id="afp.builder">afp.Builder</h3>
<p>Bases: <code><a href="#afp.api.base.ClearingSystemAPI">ClearingSystemAPI</a></code></p>
<p>API for building and submitting new products.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>private_key</strong> (<code><a href="#str">str</a></code>) – The private key of the blockchain account that submits the product.</li>
<li><strong>autonity_rpc_url</strong> (<code><a href="#str">str</a></code>) – The URL of a JSON-RPC provider for Autonity. (HTTPS only.)</li>
</ul>
<p><strong>Functions:</strong></p>
<ul>
<li><a href="#afp.Builder.create_product"><strong>create_product</strong></a> – Creates a product specification with the given product data.</li>
<li><a href="#afp.Builder.product_state"><strong>product_state</strong></a> – Returns the current state of a product.</li>
<li><a href="#afp.Builder.register_product"><strong>register_product</strong></a> – Submits a product specification to the clearing system.</li>
</ul>
<section id="afp.builder.create_product" class="level4">
<h4 class="anchored" data-anchor-id="afp.builder.create_product">afp.Builder.create_product</h4>
<div class="sourceCode" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>create_product(<span class="op">*</span>, symbol, description, oracle_address, fsv_decimals, fsp_alpha, fsp_beta, fsv_calldata, start_time, earliest_fsp_submission_time, collateral_asset, tick_size, unit_value, initial_margin_requirement, maintenance_margin_requirement, offer_price_buffer, auction_bounty, tradeout_interval, extended_metadata)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Creates a product specification with the given product data.</p>
<p>The builder account’s address is derived from the private key; the price quotation symbol is retrieved from the collateral asset.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>symbol</strong> (<code><a href="#str">str</a></code>) –</li>
<li><strong>description</strong> (<code><a href="#str">str</a></code>) –</li>
<li><strong>oracle_address</strong> (<code><a href="#str">str</a></code>) –</li>
<li><strong>fsv_decimals</strong> (<code><a href="#int">int</a></code>) –</li>
<li><strong>fsp_alpha</strong> (<code><a href="#decimal.Decimal">Decimal</a></code>) –</li>
<li><strong>fsp_beta</strong> (<code><a href="#int">int</a></code>) –</li>
<li><strong>fsv_calldata</strong> (<code><a href="#str">str</a></code>) –</li>
<li><strong>start_time</strong> (<code><a href="#datetime.datetime">datetime</a></code>) –</li>
<li><strong>earliest_fsp_submission_time</strong> (<code><a href="#datetime.datetime">datetime</a></code>) –</li>
<li><strong>collateral_asset</strong> (<code><a href="#str">str</a></code>) –</li>
<li><strong>tick_size</strong> (<code><a href="#int">int</a></code>) –</li>
<li><strong>unit_value</strong> (<code><a href="#decimal.Decimal">Decimal</a></code>) –</li>
<li><strong>initial_margin_requirement</strong> (<code><a href="#decimal.Decimal">Decimal</a></code>) –</li>
<li><strong>maintenance_margin_requirement</strong> (<code><a href="#decimal.Decimal">Decimal</a></code>) –</li>
<li><strong>offer_price_buffer</strong> (<code><a href="#decimal.Decimal">Decimal</a></code>) –</li>
<li><strong>auction_bounty</strong> (<code><a href="#decimal.Decimal">Decimal</a></code>) –</li>
<li><strong>tradeout_interval</strong> (<code><a href="#int">int</a></code>) –</li>
<li><strong>extended_metadata</strong> (<code><a href="#str">str</a></code>) –</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#afp.schemas.ProductSpecification">ProductSpecification</a></code> –</li>
</ul>
</section>
<section id="afp.builder.product_state" class="level4">
<h4 class="anchored" data-anchor-id="afp.builder.product_state">afp.Builder.product_state</h4>
<div class="sourceCode" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>product_state(product_id)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Returns the current state of a product.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>product_id</strong> (<code><a href="#str">str</a></code>) – The ID of the product.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#str">str</a></code> –</li>
</ul>
</section>
<section id="afp.builder.register_product" class="level4">
<h4 class="anchored" data-anchor-id="afp.builder.register_product">afp.Builder.register_product</h4>
<div class="sourceCode" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>register_product(product)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Submits a product specification to the clearing system.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>product</strong> (<code><a href="#afp.schemas.ProductSpecification">ProductSpecification</a></code>) –</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#str">str</a></code> – The hash of the transaction.</li>
</ul>
</section>
</section>
<section id="afp.clearing" class="level3">
<h3 class="anchored" data-anchor-id="afp.clearing">afp.Clearing</h3>
<p>Bases: <code><a href="#afp.api.base.ClearingSystemAPI">ClearingSystemAPI</a></code></p>
<p>API for managing margin accounts.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>private_key</strong> (<code><a href="#str">str</a></code>) – The private key of the blockchain account that manages the margin account.</li>
<li><strong>autonity_rpc_url</strong> (<code><a href="#str">str</a></code>) – The URL of a JSON-RPC provider for Autonity. (HTTPS only.)</li>
</ul>
<p><strong>Functions:</strong></p>
<ul>
<li><a href="#afp.Clearing.authorize"><strong>authorize</strong></a> – Authorizes a blockchain account to submit intents to the clearing system</li>
<li><a href="#afp.Clearing.capital"><strong>capital</strong></a> – Returns the amount of collateral tokens in the margin account associated</li>
<li><a href="#afp.Clearing.collateral_asset"><strong>collateral_asset</strong></a> – Returns the collateral asset of a product.</li>
<li><a href="#afp.Clearing.deposit_into_margin_account"><strong>deposit_into_margin_account</strong></a> – Deposits the specified amount of collateral tokens into the margin account</li>
<li><a href="#afp.Clearing.initiate_final_settlement"><strong>initiate_final_settlement</strong></a> – Initiate final settlement (closeout) process for the specified accounts.</li>
<li><a href="#afp.Clearing.maintenance_margin_available"><strong>maintenance_margin_available</strong></a> – Returns the maintenance margin available in the margin account associated</li>
<li><a href="#afp.Clearing.maintenance_margin_used"><strong>maintenance_margin_used</strong></a> – Returns the maintenance margin used in the margin account associated with</li>
<li><a href="#afp.Clearing.margin_account_equity"><strong>margin_account_equity</strong></a> – Returns the margin account equity in the margin account associated with the</li>
<li><a href="#afp.Clearing.position"><strong>position</strong></a> – Returns the parameters of a position in the margin account associated with</li>
<li><a href="#afp.Clearing.positions"><strong>positions</strong></a> – Returns all positions in the margin account associated with the collateral</li>
<li><a href="#afp.Clearing.product_state"><strong>product_state</strong></a> – Returns the current state of a product.</li>
<li><a href="#afp.Clearing.profit_and_loss"><strong>profit_and_loss</strong></a> – Returns the profit and loss in the margin account associated with the</li>
<li><a href="#afp.Clearing.withdraw_from_margin_account"><strong>withdraw_from_margin_account</strong></a> – Withdraws the specified amount of collateral tokens from the margin account</li>
<li><a href="#afp.Clearing.withdrawable_amount"><strong>withdrawable_amount</strong></a> – Returns the amount of collateral tokens withdrawable from the margin account</li>
</ul>
<section id="afp.clearing.authorize" class="level4">
<h4 class="anchored" data-anchor-id="afp.clearing.authorize">afp.Clearing.authorize</h4>
<div class="sourceCode" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>authorize(collateral_asset, intent_account_id)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Authorizes a blockchain account to submit intents to the clearing system using the margin account associated with the collateral asset.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>collateral_asset</strong> (<code><a href="#str">str</a></code>) – The address of the collateral token.</li>
<li><strong>intent_account_id</strong> (<code><a href="#str">str</a></code>) – The address of the intent account.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#str">str</a></code> – The hash of the transaction.</li>
</ul>
</section>
<section id="afp.clearing.capital" class="level4">
<h4 class="anchored" data-anchor-id="afp.clearing.capital">afp.Clearing.capital</h4>
<div class="sourceCode" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>capital(collateral_asset)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Returns the amount of collateral tokens in the margin account associated with the collateral asset.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>collateral_asset</strong> (<code><a href="#str">str</a></code>) – The address of the collateral token.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#decimal.Decimal">Decimal</a></code> –</li>
</ul>
</section>
<section id="afp.clearing.collateral_asset" class="level4">
<h4 class="anchored" data-anchor-id="afp.clearing.collateral_asset">afp.Clearing.collateral_asset</h4>
<div class="sourceCode" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>collateral_asset(product_id)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Returns the collateral asset of a product.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>product_id</strong> (<code><a href="#str">str</a></code>) – The ID of the product.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#str">str</a></code> –</li>
</ul>
</section>
<section id="afp.clearing.deposit_into_margin_account" class="level4">
<h4 class="anchored" data-anchor-id="afp.clearing.deposit_into_margin_account">afp.Clearing.deposit_into_margin_account</h4>
<div class="sourceCode" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>deposit_into_margin_account(collateral_asset, amount)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Deposits the specified amount of collateral tokens into the margin account associated with the collateral asset.</p>
<p>First approves the token transfer with the collateral token, then executes the transfer.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>collateral_asset</strong> (<code><a href="#str">str</a></code>) – The address of the collateral token.</li>
<li><strong>amount</strong> (<code><a href="#decimal.Decimal">Decimal</a></code>) – The amount of collateral tokens to deposit.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#str">str</a></code> – The hash of the approval transaction.</li>
<li><code><a href="#str">str</a></code> – The hash of the deposit transaction.</li>
</ul>
</section>
<section id="afp.clearing.initiate_final_settlement" class="level4">
<h4 class="anchored" data-anchor-id="afp.clearing.initiate_final_settlement">afp.Clearing.initiate_final_settlement</h4>
<div class="sourceCode" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>initiate_final_settlement(product_id, accounts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Initiate final settlement (closeout) process for the specified accounts.</p>
<p>The product must be in Final Settlement state. The accounts must hold non-zero positions in the product that offset each other (i.e.&nbsp;the sum of their position sizes is 0.)</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>product_id</strong> (<code><a href="#str">str</a></code>) – The ID of the product.</li>
<li><strong>accounts</strong> (<code>list of str</code>) – List of margin account IDs to initiate settlement for.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#str">str</a></code> – The hash of the transaction.</li>
</ul>
</section>
<section id="afp.clearing.maintenance_margin_available" class="level4">
<h4 class="anchored" data-anchor-id="afp.clearing.maintenance_margin_available">afp.Clearing.maintenance_margin_available</h4>
<div class="sourceCode" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>maintenance_margin_available(collateral_asset)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Returns the maintenance margin available in the margin account associated with the collateral asset.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>collateral_asset</strong> (<code><a href="#str">str</a></code>) – The address of the collateral token.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#decimal.Decimal">Decimal</a></code> –</li>
</ul>
</section>
<section id="afp.clearing.maintenance_margin_used" class="level4">
<h4 class="anchored" data-anchor-id="afp.clearing.maintenance_margin_used">afp.Clearing.maintenance_margin_used</h4>
<div class="sourceCode" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>maintenance_margin_used(collateral_asset)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Returns the maintenance margin used in the margin account associated with the collateral asset.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>collateral_asset</strong> (<code><a href="#str">str</a></code>) – The address of the collateral token.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#decimal.Decimal">Decimal</a></code> –</li>
</ul>
</section>
<section id="afp.clearing.margin_account_equity" class="level4">
<h4 class="anchored" data-anchor-id="afp.clearing.margin_account_equity">afp.Clearing.margin_account_equity</h4>
<div class="sourceCode" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>margin_account_equity(collateral_asset)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Returns the margin account equity in the margin account associated with the collateral asset.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>collateral_asset</strong> (<code><a href="#str">str</a></code>) – The address of the collateral token.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#decimal.Decimal">Decimal</a></code> –</li>
</ul>
</section>
<section id="afp.clearing.position" class="level4">
<h4 class="anchored" data-anchor-id="afp.clearing.position">afp.Clearing.position</h4>
<div class="sourceCode" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>position(collateral_asset, position_id)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Returns the parameters of a position in the margin account associated with the collateral asset.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>collateral_asset</strong> (<code><a href="#str">str</a></code>) – The address of the collateral token.</li>
<li><strong>position_id</strong> (<code><a href="#str">str</a></code>) – The ID of the position.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#afp.schemas.Position">Position</a></code> –</li>
</ul>
</section>
<section id="afp.clearing.positions" class="level4">
<h4 class="anchored" data-anchor-id="afp.clearing.positions">afp.Clearing.positions</h4>
<div class="sourceCode" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>positions(collateral_asset)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Returns all positions in the margin account associated with the collateral asset.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>collateral_asset</strong> (<code><a href="#str">str</a></code>) – The address of the collateral token.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code>list of afp.schemas.Position</code> –</li>
</ul>
</section>
<section id="afp.clearing.product_state" class="level4">
<h4 class="anchored" data-anchor-id="afp.clearing.product_state">afp.Clearing.product_state</h4>
<div class="sourceCode" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>product_state(product_id)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Returns the current state of a product.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>product_id</strong> (<code><a href="#str">str</a></code>) – The ID of the product.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#str">str</a></code> –</li>
</ul>
</section>
<section id="afp.clearing.profit_and_loss" class="level4">
<h4 class="anchored" data-anchor-id="afp.clearing.profit_and_loss">afp.Clearing.profit_and_loss</h4>
<div class="sourceCode" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>profit_and_loss(collateral_asset)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Returns the profit and loss in the margin account associated with the collateral asset.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>collateral_asset</strong> (<code><a href="#str">str</a></code>) – The address of the collateral token.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#decimal.Decimal">Decimal</a></code> –</li>
</ul>
</section>
<section id="afp.clearing.withdraw_from_margin_account" class="level4">
<h4 class="anchored" data-anchor-id="afp.clearing.withdraw_from_margin_account">afp.Clearing.withdraw_from_margin_account</h4>
<div class="sourceCode" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>withdraw_from_margin_account(collateral_asset, amount)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Withdraws the specified amount of collateral tokens from the margin account associated with the collateral asset.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>collateral_asset</strong> (<code><a href="#str">str</a></code>) – The address of the collateral token.</li>
<li><strong>amount</strong> (<code><a href="#decimal.Decimal">Decimal</a></code>) – The amount of collateral tokens to withdraw.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#str">str</a></code> – The hash of the transaction.</li>
</ul>
</section>
<section id="afp.clearing.withdrawable_amount" class="level4">
<h4 class="anchored" data-anchor-id="afp.clearing.withdrawable_amount">afp.Clearing.withdrawable_amount</h4>
<div class="sourceCode" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>withdrawable_amount(collateral_asset)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Returns the amount of collateral tokens withdrawable from the margin account associated with the collateral asset.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>collateral_asset</strong> (<code><a href="#str">str</a></code>) – The address of the collateral token.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#decimal.Decimal">Decimal</a></code> –</li>
</ul>
</section>
</section>
<section id="afp.liquidation" class="level3">
<h3 class="anchored" data-anchor-id="afp.liquidation">afp.Liquidation</h3>
<p>Bases: <code><a href="#afp.api.base.ClearingSystemAPI">ClearingSystemAPI</a></code></p>
<p>API for participating in liquidation auctions.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>private_key</strong> (<code><a href="#str">str</a></code>) – The private key of the blockchain account that participates in a liquidation auction.</li>
<li><strong>autonity_rpc_url</strong> (<code><a href="#str">str</a></code>) – The URL of a JSON-RPC provider for Autonity. (HTTPS only.)</li>
</ul>
<p><strong>Functions:</strong></p>
<ul>
<li><a href="#afp.Liquidation.auction_data"><strong>auction_data</strong></a> – Returns information on a liquidation auction.</li>
<li><a href="#afp.Liquidation.create_bid"><strong>create_bid</strong></a> – Create a bid to be submitted to a liquidation auction.</li>
<li><a href="#afp.Liquidation.request_liquidation"><strong>request_liquidation</strong></a> – Request a liquidation auction to be started.</li>
<li><a href="#afp.Liquidation.submit_bids"><strong>submit_bids</strong></a> – Submit bids to a liquidation auction.</li>
</ul>
<section id="afp.liquidation.auction_data" class="level4">
<h4 class="anchored" data-anchor-id="afp.liquidation.auction_data">afp.Liquidation.auction_data</h4>
<div class="sourceCode" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>auction_data(margin_account_id, collateral_asset)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Returns information on a liquidation auction.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>margin_account_id</strong> (<code><a href="#str">str</a></code>) – The ID of the margin account to be liquidated.</li>
<li><strong>collateral_asset</strong> (<code><a href="#str">str</a></code>) – The address of the collateral token that the margin account is trading with.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#str">str</a></code> – The hash of the transaction.</li>
</ul>
</section>
<section id="afp.liquidation.create_bid" class="level4">
<h4 class="anchored" data-anchor-id="afp.liquidation.create_bid">afp.Liquidation.create_bid</h4>
<div class="sourceCode" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>create_bid(product_id, price, quantity, side)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Create a bid to be submitted to a liquidation auction.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>product_id</strong> (<code><a href="#str">str</a></code>) –</li>
<li><strong>price</strong> (<code><a href="#decimal.Decimal">Decimal</a></code>) –</li>
<li><strong>quantity</strong> (<code><a href="#int">int</a></code>) –</li>
<li><strong>side</strong> (<code><a href="#str">str</a></code>) –</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#afp.schemas.Bid">Bid</a></code> –</li>
</ul>
</section>
<section id="afp.liquidation.request_liquidation" class="level4">
<h4 class="anchored" data-anchor-id="afp.liquidation.request_liquidation">afp.Liquidation.request_liquidation</h4>
<div class="sourceCode" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>request_liquidation(margin_account_id, collateral_asset)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Request a liquidation auction to be started.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>margin_account_id</strong> (<code><a href="#str">str</a></code>) – The ID of the margin account to be liquidated.</li>
<li><strong>collateral_asset</strong> (<code><a href="#str">str</a></code>) – The address of the collateral token that the margin account is trading with.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#str">str</a></code> – The hash of the transaction.</li>
</ul>
</section>
<section id="afp.liquidation.submit_bids" class="level4">
<h4 class="anchored" data-anchor-id="afp.liquidation.submit_bids">afp.Liquidation.submit_bids</h4>
<div class="sourceCode" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>submit_bids(margin_account_id, collateral_asset, bids)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Submit bids to a liquidation auction.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>margin_account_id</strong> (<code><a href="#str">str</a></code>) – The ID of the margin account that is being liquidated.</li>
<li><strong>collateral_asset</strong> (<code><a href="#str">str</a></code>) – The address of the collateral token that the margin account is trading with.</li>
<li><strong>bids</strong> (<code><a href="#typing.Iterable">Iterable</a>[<a href="#afp.schemas.Bid">Bid</a>]</code>) –</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#str">str</a></code> – The hash of the transaction.</li>
</ul>
</section>
</section>
<section id="afp.trading" class="level3">
<h3 class="anchored" data-anchor-id="afp.trading">afp.Trading</h3>
<p>Bases: <code><a href="#afp.api.base.ExchangeAPI">ExchangeAPI</a></code></p>
<p>API for trading in the AutEx exchange.</p>
<p>Authenticates with the exchange on creation.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>private_key</strong> (<code><a href="#str">str</a></code>) – The private key of the account that submits intents to the exchange.</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code><a href="#afp.exceptions.AuthenticationError">AuthenticationError</a></code> – If the exchange rejects the login attempt.</li>
</ul>
<p><strong>Functions:</strong></p>
<ul>
<li><a href="#afp.Trading.create_intent"><strong>create_intent</strong></a> – Creates an intent with the given intent data, generates its hash and signs it</li>
<li><a href="#afp.Trading.iter_market_depth"><strong>iter_market_depth</strong></a> – Subscribes to updates of the depth of market for the given product.</li>
<li><a href="#afp.Trading.iter_order_fills"><strong>iter_order_fills</strong></a> – Subscribes to the authenticated account’s new order fills that match the</li>
<li><a href="#afp.Trading.market_depth"><strong>market_depth</strong></a> – Retrieves the depth of market for the given product.</li>
<li><a href="#afp.Trading.open_orders"><strong>open_orders</strong></a> – Retrieves all open and partially filled limit orders that have been submitted</li>
<li><a href="#afp.Trading.order"><strong>order</strong></a> – Retrieves an order by its ID from the orders that have been submitted by the</li>
<li><a href="#afp.Trading.order_fills"><strong>order_fills</strong></a> – Retrieves the authenticated account’s order fills that match the given</li>
<li><a href="#afp.Trading.product"><strong>product</strong></a> – Retrieves a product for trading by its ID.</li>
<li><a href="#afp.Trading.products"><strong>products</strong></a> – Retrieves the products approved for trading on the exchange.</li>
<li><a href="#afp.Trading.submit_cancel_order"><strong>submit_cancel_order</strong></a> – Sends a cancellation order to the exchange.</li>
<li><a href="#afp.Trading.submit_limit_order"><strong>submit_limit_order</strong></a> – Sends an intent expressing a limit order to the exchange.</li>
</ul>
<section id="afp.trading.create_intent" class="level4">
<h4 class="anchored" data-anchor-id="afp.trading.create_intent">afp.Trading.create_intent</h4>
<div class="sourceCode" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>create_intent(<span class="op">*</span>, product, side, limit_price, quantity, max_trading_fee_rate, good_until_time, margin_account_id<span class="op">=</span><span class="va">None</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Creates an intent with the given intent data, generates its hash and signs it with the configured account’s private key.</p>
<p>The intent account’s address is derived from the private key. The intent account is assumed to be the same as the margin account if the margin account ID is not specified.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>product</strong> (<code><a href="#afp.schemas.ExchangeProduct">ExchangeProduct</a></code>) –</li>
<li><strong>side</strong> (<code><a href="#str">str</a></code>) –</li>
<li><strong>limit_price</strong> (<code><a href="#decimal.Decimal">Decimal</a></code>) –</li>
<li><strong>quantity</strong> (<code><a href="#decimal.Decimal">Decimal</a></code>) –</li>
<li><strong>max_trading_fee_rate</strong> (<code><a href="#decimal.Decimal">Decimal</a></code>) –</li>
<li><strong>good_until_time</strong> (<code><a href="#datetime.datetime.datetime">datetime</a></code>) –</li>
<li><strong>margin_account_id</strong> (<code><a href="#str">str</a></code>) –</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#afp.schemas.Intent">Intent</a></code> –</li>
</ul>
</section>
<section id="afp.trading.iter_market_depth" class="level4">
<h4 class="anchored" data-anchor-id="afp.trading.iter_market_depth">afp.Trading.iter_market_depth</h4>
<div class="sourceCode" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>iter_market_depth(product_id)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Subscribes to updates of the depth of market for the given product.</p>
<p>Returns a generator that yields the updated market depth data as it is published by the exhange.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>product_id</strong> (<code><a href="#str">str</a></code>) –</li>
</ul>
<p><strong>Yields:</strong></p>
<ul>
<li><code><a href="#afp.schemas.MarketDepthData">MarketDepthData</a></code> –</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code><a href="#afp.exceptions.NotFoundError">NotFoundError</a></code> – If no such product exists.</li>
</ul>
</section>
<section id="afp.trading.iter_order_fills" class="level4">
<h4 class="anchored" data-anchor-id="afp.trading.iter_order_fills">afp.Trading.iter_order_fills</h4>
<div class="sourceCode" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>iter_order_fills(<span class="op">*</span>, product_id<span class="op">=</span><span class="va">None</span>, margin_account_id<span class="op">=</span><span class="va">None</span>, intent_hash<span class="op">=</span><span class="va">None</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Subscribes to the authenticated account’s new order fills that match the given parameters.</p>
<p>Returns a generator that yields new order fills as they are published by the exchange. A new order fill gets publised as soon as there is a match in the order book, before the trade is submitted to clearing.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>product_id</strong> (<code><a href="#str">str</a></code>) –</li>
<li><strong>margin_account_id</strong> (<code><a href="#str">str</a></code>) –</li>
<li><strong>intent_hash</strong> (<code><a href="#str">str</a></code>) –</li>
</ul>
<p><strong>Yields:</strong></p>
<ul>
<li><code><a href="#afp.schemas.OrderFill">OrderFill</a></code> –</li>
</ul>
</section>
<section id="afp.trading.market_depth" class="level4">
<h4 class="anchored" data-anchor-id="afp.trading.market_depth">afp.Trading.market_depth</h4>
<div class="sourceCode" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>market_depth(product_id)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Retrieves the depth of market for the given product.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>product_id</strong> (<code><a href="#str">str</a></code>) –</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#afp.schemas.MarketDepthData">MarketDepthData</a></code> –</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code><a href="#afp.exceptions.NotFoundError">NotFoundError</a></code> – If no such product exists.</li>
</ul>
</section>
<section id="afp.trading.open_orders" class="level4">
<h4 class="anchored" data-anchor-id="afp.trading.open_orders">afp.Trading.open_orders</h4>
<div class="sourceCode" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>open_orders()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Retrieves all open and partially filled limit orders that have been submitted by the authenticated account.</p>
<p><strong>Returns:</strong></p>
<ul>
<li><code>list of afp.schemas.Order</code> –</li>
</ul>
</section>
<section id="afp.trading.order" class="level4">
<h4 class="anchored" data-anchor-id="afp.trading.order">afp.Trading.order</h4>
<div class="sourceCode" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>order(order_id)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Retrieves an order by its ID from the orders that have been submitted by the authenticated account.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>order_id</strong> (<code><a href="#str">str</a></code>) –</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#afp.schemas.Order">Order</a></code> –</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code><a href="#afp.exceptions.NotFoundError">NotFoundError</a></code> – If no such order exists.</li>
</ul>
</section>
<section id="afp.trading.order_fills" class="level4">
<h4 class="anchored" data-anchor-id="afp.trading.order_fills">afp.Trading.order_fills</h4>
<div class="sourceCode" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>order_fills(<span class="op">*</span>, product_id<span class="op">=</span><span class="va">None</span>, margin_account_id<span class="op">=</span><span class="va">None</span>, intent_hash<span class="op">=</span><span class="va">None</span>, start<span class="op">=</span><span class="va">None</span>, end<span class="op">=</span><span class="va">None</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Retrieves the authenticated account’s order fills that match the given parameters.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>product_id</strong> (<code><a href="#str">str</a></code>) –</li>
<li><strong>margin_account_id</strong> (<code><a href="#str">str</a></code>) –</li>
<li><strong>intent_hash</strong> (<code><a href="#str">str</a></code>) –</li>
<li><strong>start</strong> (<code><a href="#datetime.datetime.datetime">datetime</a></code>) –</li>
<li><strong>end</strong> (<code><a href="#datetime.datetime.datetime">datetime</a></code>) –</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code>list of afp.schemas.OrderFill</code> –</li>
</ul>
</section>
<section id="afp.trading.product" class="level4">
<h4 class="anchored" data-anchor-id="afp.trading.product">afp.Trading.product</h4>
<div class="sourceCode" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>product(product_id)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Retrieves a product for trading by its ID.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>product_id</strong> (<code><a href="#str">str</a></code>) –</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#afp.schemas.ExchangeProduct">ExchangeProduct</a></code> –</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code><a href="#afp.exceptions.NotFoundError">NotFoundError</a></code> – If no such product exists.</li>
</ul>
</section>
<section id="afp.trading.products" class="level4">
<h4 class="anchored" data-anchor-id="afp.trading.products">afp.Trading.products</h4>
<div class="sourceCode" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>products()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Retrieves the products approved for trading on the exchange.</p>
<p><strong>Returns:</strong></p>
<ul>
<li><code>list of afp.schemas.ExchangeProduct</code> –</li>
</ul>
</section>
<section id="afp.trading.submit_cancel_order" class="level4">
<h4 class="anchored" data-anchor-id="afp.trading.submit_cancel_order">afp.Trading.submit_cancel_order</h4>
<div class="sourceCode" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>submit_cancel_order(intent_hash)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Sends a cancellation order to the exchange.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>intent_hash</strong> (<code><a href="#str">str</a></code>) –</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#afp.schemas.Order">Order</a></code> –</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code><a href="#afp.exceptions.ValidationError">ValidationError</a></code> – If the exchange rejects the cancellation.</li>
</ul>
</section>
<section id="afp.trading.submit_limit_order" class="level4">
<h4 class="anchored" data-anchor-id="afp.trading.submit_limit_order">afp.Trading.submit_limit_order</h4>
<div class="sourceCode" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>submit_limit_order(intent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Sends an intent expressing a limit order to the exchange.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>intent</strong> (<code><a href="#afp.schemas.Intent">Intent</a></code>) –</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#afp.schemas.Order">Order</a></code> –</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code><a href="#afp.exceptions.ValidationError">ValidationError</a></code> – If the exchange rejects the intent.</li>
</ul>


</section>
</section>
</section>

</main> <!-- /main -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  // Don't show on glossary or about-afp page
  if (window.location.pathname.match(/(glossary|about-afp)\.(qmd|html)$/)) return;
  // Create the glossary search box
  const searchBox = document.createElement('div');
  searchBox.id = 'glossary-search-container';
  searchBox.style = 'margin: 1.2rem 0 0 0; max-width: 340px; position: relative;';
  searchBox.innerHTML = `
    <div style="position:relative;">
      <input id="glossary-search-input" type="text" placeholder="Search glossary..." style="width:100%;padding:0.65em 2.2em 0.65em 1em;font-size:1em;border-radius:0.5em;border:1px solid #ccc;">
      <span id="glossary-search-clear" style="display:none;position:absolute;right:0.8em;top:50%;transform:translateY(-50%);font-size:1.2em;cursor:pointer;color:#888;user-select:none;">&times;</span>
    </div>
    <div id="glossary-search-results" style="background:#fff;border:1px solid #eee;border-radius:0.5em;margin-top:0.5em;max-height:220px;overflow:auto;display:none;"></div>
  `;
  // Try to find the Quarto TOC sidebar
  const tocSidebar = document.querySelector('.quarto-sidebar-toc, .toc-sidebar, nav#TOC, .sidebar-toc, .page-sidebar, .quarto-toc-sidebar, .quarto-toc, .toc-right, .page-toc, .quarto-toc-pane, .quarto-toc-right, .quarto-toc-container, .quarto-toc, #TOC');
  if (tocSidebar) {
    tocSidebar.appendChild(searchBox);
  } else {
    // Try to find the main content column to insert beside it
    const mainCol = document.querySelector('.page-columns, .content, main');
    if (mainCol && mainCol.parentNode) {
      // Create a faux TOC container styled like the real one
      const fauxToc = document.createElement('aside');
      fauxToc.className = 'quarto-toc-pane faux-toc-pane';
      fauxToc.style = 'position:absolute;top:90px;right:32px;width:340px;z-index:999;';
      fauxToc.appendChild(searchBox);
      mainCol.parentNode.insertBefore(fauxToc, mainCol.nextSibling);
    }
  }
  // Glossary search logic
  async function fetchGlossaryTerms() {
    try {
      const resp = await fetch('glossary.qmd'.replace('.qmd', '.html'));
      const html = await resp.text();
      const match = html.match(/<ul id=\"glossary-list\">([\s\S]*?)<\/ul>/);
      if (match) {
        const tempDiv = document.createElement('div');
        tempDiv.innerHTML = match[0];
        return Array.from(tempDiv.querySelectorAll('li')).map(li => li.innerHTML);
      }
    } catch (e) { /* ignore */ }
    return [];
  }
  const input = searchBox.querySelector('#glossary-search-input');
  const results = searchBox.querySelector('#glossary-search-results');
  const clearBtn = searchBox.querySelector('#glossary-search-clear');
  input?.addEventListener('input', async function() {
    const query = this.value.trim().toLowerCase();
    clearBtn.style.display = this.value ? 'block' : 'none';
    if (!query) { results.style.display = 'none'; results.innerHTML = ''; return; }
    const terms = await fetchGlossaryTerms();
    const filtered = terms.filter(t => t.toLowerCase().includes(query));
    if (filtered.length === 0) {
      results.innerHTML = '<div style="padding:0.75em;color:#888;">No results found.</div>';
    } else {
      results.innerHTML = filtered.map(t => `<div style='padding:0.75em 1em;border-bottom:1px solid #f0f0f0;'>${t}</div>`).join('');
    }
    results.style.display = 'block';
  });
  clearBtn?.addEventListener('click', function() {
    input.value = '';
    clearBtn.style.display = 'none';
    results.style.display = 'none';
    results.innerHTML = '';
    input.focus();
  });
});
</script>
<!-- Add this to your CSS for faux-toc-pane if needed:
.faux-toc-pane {
  background: #fff;
  border: 1px solid #eee;
  border-radius: 0.5em;
  box-shadow: 0 2px 8px rgba(0,0,0,0.04);
  padding: 1em 0.5em;
}
-->
<style>
  /* Top tabs bar styling */
  .top-tabs { display:flex; gap:1rem; align-items:flex-end; padding:0 0; margin:0.5rem 0 0.25rem; }
  .top-tab { color: var(--bs-secondary-color, #6a737b); background: rgba(255,255,255,0.06); border-radius: .375rem; padding: .4rem .75rem; text-decoration: none; transition: color .15s ease, background .15s ease; }
  .top-tab:hover { color: #6a274b; text-decoration: none; }
  .top-tab.is-active { color: #a23b72; background: transparent; position: relative; }
  .top-tab.is-active::after { content: ""; position: absolute; left: 0; right: 0; bottom: -6px; height: 3px; background: #a23b72; border-radius: 2px; }
  /* Container that holds the tabs and a bottom border like in the screenshot */
  .top-tabs-wrap { border-bottom: 1px solid rgba(255,255,255,0.08); margin-bottom: .5rem; position: relative; z-index: 1015; background: var(--quarto-body-bg, #0f0f10); }
  .top-tabs-container { max-width: 1320px; margin: 0 auto; padding: 0 1rem; }
  @media (min-width: 1400px){ .top-tabs-container { max-width: 1440px; } }

  /* Navbar brand alignment (logo + title inline) */
  #quarto-header .navbar-brand { display: flex; align-items: center; gap: .5rem; }
  #quarto-header .navbar-brand img { height: 24px; width: auto; }
  #quarto-header .navbar-brand, #quarto-header .navbar .navbar-title { line-height: 1; }
</style>
<script>
  document.addEventListener('DOMContentLoaded', function(){
    const header = document.getElementById('quarto-header');
    if(!header) return;
    // Create wrapper and tabs
    const wrap = document.createElement('div');
    wrap.className = 'top-tabs-wrap';
    const container = document.createElement('div');
    container.className = 'top-tabs-container';
    const bar = document.createElement('div');
    bar.className = 'top-tabs';

    const mk = (text, href, isActive) => {
      const a = document.createElement('a');
      a.className = 'top-tab' + (isActive ? ' is-active' : '');
      a.href = href;
      a.textContent = text;
      return a;
    };

    // Determine offset for current page depth (Quarto sets this meta on each page)
    const offset = (document.querySelector('meta[name="quarto:offset"]')?.getAttribute('content')) || '';
    // Build links relative to current page so they work on GitHub Pages subpaths
    const hrefLayer1 = offset + 'layer1/';
    const hrefAfp = offset + 'afp/';

    // Active tab detection relative to site root
    const relPath = (window.location.pathname || '/');
    const isLayer1 = /(^|\/)layer1(\/|$)/.test(relPath);
    const isAfp = /(^|\/)afp(\/|$)/.test(relPath);
    const active = isLayer1 ? 'layer1' : (isAfp ? 'afp' : 'home');

    bar.appendChild(mk('Layer 1', hrefLayer1, active === 'layer1'));
    bar.appendChild(mk('AFP', hrefAfp, active === 'afp'));
    container.appendChild(bar);
    wrap.appendChild(container);
    // Insert AFTER the header so it sits above the sidebar and below the brand bar
    header.insertAdjacentElement('afterend', wrap);
  });
</script>
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/autonity\.github\.io\/docs\.autonity\.org-bakerloo\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../afp/glossary.html" class="pagination-link" aria-label="Glossary">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Glossary</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../afp/afp-smart-contract-reference.html" class="pagination-link" aria-label="AFP Smart Contract Reference">
        <span class="nav-page-text">AFP Smart Contract Reference</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© 2025 AFP Project</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>Built with Quarto</p>
</div>
  </div>
</footer>




<script src="../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>